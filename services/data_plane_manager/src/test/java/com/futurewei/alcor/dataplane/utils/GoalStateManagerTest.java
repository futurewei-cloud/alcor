package com.futurewei.alcor.dataplane.utils;

import com.futurewei.alcor.schema.Goalstate;
import com.futurewei.alcor.web.entity.dataplane.NetworkConfiguration;
import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.util.Map;

import static org.junit.jupiter.api.Assertions.assertEquals;

class GoalStateManagerTest {

  Gson g = null;
  GoalStateManager goalStateManager = null;

  @BeforeEach
  void setUp() {
    goalStateManager = new GoalStateManager();
    g = new Gson();
  }

  @AfterEach
  void tearDown() {}

  @Test
  void scenarioC() {
    String input =
        "{\"rsType\":\"PORT\",\"opType\":\"CREATE\",\"portEntities\":[{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"neighborInfos\":[{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\"portMac\":\"AA-BB-CC-E9-5E-28\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\"portMac\":\"AA-BB-CC-59-1F-11\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\"portMac\":\"AA-BB-CC-58-02-6B\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\"portMac\":\"AA-BB-CC-8B-C2-94\"}],\"bindingHostIP\":\"10.213.43.188\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\"portMac\":\"AA-BB-CC-E9-5E-28\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\"portMac\":\"AA-BB-CC-59-1F-11\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\"portMac\":\"AA-BB-CC-58-02-6B\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\"portMac\":\"AA-BB-CC-8B-C2-94\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-0A-48-A3\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.55\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0055\",\"name\":\"port55\",\"description\":\"string\"}],\"vpcs\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"subnets\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"securityGroups\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupRules\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv4\",\"id\":\"8111156c-2336-4f41-aae9-338c32b76a09\"},{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv6\",\"id\":\"99414929-e045-44e3-951f-e5ac0d14006f\"}],\"createAt\":\"2020-06-24 15:02:39\",\"updateAt\":\"2020-06-24 15:02:39\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"name\":\"sg1\",\"description\":\"string\"}]}";
    String output =
        "{\"10.213.43.188\":{\"bitField0_\":0,\"formatVersion_\":0,\"vpcStates_\":[],\"subnetStates_\":[{\"operationType_\":4,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"\",\"cidr_\":\"10.0.0.0/24\",\"tunnelId_\":8897810,\"dhcpEnable_\":false,\"availabilityZone_\":\"\",\"primaryDns_\":\"\",\"secondaryDns_\":\"\",\"transitSwitches_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":216529731},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1304241580}],\"portStates_\":[{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port55\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-0A-48-A3\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":307027098},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.55\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1194623731}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-914203607},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1547752832},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port55\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-0A-48-A3\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1172598353},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.55\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1194623731}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1239279749},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":710479306},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port55\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-0A-48-A3\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":307027069},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.55\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1194623731}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1188120029},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-2100856110},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port55\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-0A-48-A3\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1172598382},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.55\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1194623731}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-965363327},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":64120952},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0055\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port55\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-0A-48-A3\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0055\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1172655338},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.55\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1194623731}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1773231532},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1889220513},{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0055\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port55\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-0A-48-A3\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.55\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1194623731}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1227009397},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1066035169}],\"securityGroupStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":0,\"revisionNumber_\":0,\"id_\":\"\",\"projectId_\":\"\",\"vpcId_\":\"\",\"name_\":\"\",\"securityGroupRules_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":780761055},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":611782789}],\"dhcpStates_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1975425812}}";
    check(input, output);
  }

    @Test
    void scenarioE() {
    String input =
        "{\"rsType\":\"PORT\",\"opType\":\"CREATE\",\"portEntities\":[{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"b094c63a-2886-49f9-b96f-cd33eb58eeec\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"bb89787c-cb03-4ea5-a6fa-59d379ccbe36\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"neighborInfos\":[{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00062\",\"portMac\":\"AA-BB-CC-92-52-36\"},{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00063\",\"portMac\":\"AA-BB-CC-9A-B5-69\"}],\"bindingHostIP\":\"10.213.43.187\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00062\",\"portMac\":\"AA-BB-CC-92-52-36\"},{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00063\",\"portMac\":\"AA-BB-CC-9A-B5-69\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"b094c63a-2886-49f9-b96f-cd33eb58eeec\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"bb89787c-cb03-4ea5-a6fa-59d379ccbe36\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-60-81-B2\",\"ipVersion\":4,\"ipV4RangeId\":\"942c7038-f4c2-4c0f-b4e3-155f3d552343\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:48:53\",\"updated_at\":\"2020-06-24 23:48:53\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\"}],\"vpcEntities\":[null],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-CF-52-62\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\",\"ipAddress\":\"10.0.0.64\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0064\",\"name\":\"port64\",\"description\":\"string\"}],\"vpcs\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"4150b9ac-356a-4dd4-9add-33d36efaec19\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"86d8f6d5-9bb4-426e-b270-de50aec2dc1e\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 23:48:41\",\"updated_at\":\"2020-06-24 23:48:41\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"subnets\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"b094c63a-2886-49f9-b96f-cd33eb58eeec\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"bb89787c-cb03-4ea5-a6fa-59d379ccbe36\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-60-81-B2\",\"ipVersion\":4,\"ipV4RangeId\":\"942c7038-f4c2-4c0f-b4e3-155f3d552343\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:48:53\",\"updated_at\":\"2020-06-24 23:48:53\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\"}],\"securityGroups\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupRules\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv4\",\"id\":\"faf6e9d3-49d3-48f5-94ff-e44ded435af7\"},{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv6\",\"id\":\"33a6e745-f4f7-4be3-8f91-7ceec9a7400f\"}],\"createAt\":\"2020-06-24 16:32:32\",\"updateAt\":\"2020-06-24 16:32:32\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"name\":\"sg1\",\"description\":\"string\"}]}";
    String output =
        "{\"10.213.43.187\":{\"bitField0_\":0,\"formatVersion_\":0,\"vpcStates_\":[],\"subnetStates_\":[{\"operationType_\":4,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\",\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"\",\"cidr_\":\"10.0.0.0/24\",\"tunnelId_\":8897810,\"dhcpEnable_\":false,\"availabilityZone_\":\"\",\"primaryDns_\":\"\",\"secondaryDns_\":\"\",\"transitSwitches_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1879011977},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1178467712}],\"portStates_\":[{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0064\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port64\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-CF-52-62\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0064\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1325479681},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\",\"ipAddress_\":\"10.0.0.64\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":927425849}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1799982216},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-402818482},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00062\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port64\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-CF-52-62\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00062\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459965150},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\",\"ipAddress_\":\"10.0.0.64\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":927425849}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-874141223},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-642986885},{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0064\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port64\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-CF-52-62\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\",\"ipAddress_\":\"10.0.0.64\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":927425849}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":149970348},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1008806743},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00063\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port64\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-CF-52-62\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00063\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459965179},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88009\",\"ipAddress_\":\"10.0.0.64\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":927425849}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-600224801},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1289345239}],\"securityGroupStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":0,\"revisionNumber_\":0,\"id_\":\"\",\"projectId_\":\"\",\"vpcId_\":\"\",\"name_\":\"\",\"securityGroupRules_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}],\"dhcpStates_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}}";
        check(input, output);
    }

    @Test
    void scenarioA() {
    String input =
        "{\"rsType\":\"PORT\",\"opType\":\"CREATE\",\"portEntities\":[{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"bindingHostIP\":\"10.213.43.187\",\"internalNeighborInfo1\":[],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-59-1F-11\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.51\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\"name\":\"port51\",\"description\":\"string\"}],\"vpcs\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"subnets\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"securityGroups\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupRules\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv4\",\"id\":\"8111156c-2336-4f41-aae9-338c32b76a09\"},{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv6\",\"id\":\"99414929-e045-44e3-951f-e5ac0d14006f\"}],\"createAt\":\"2020-06-24 15:02:39\",\"updateAt\":\"2020-06-24 15:02:39\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"name\":\"sg1\",\"description\":\"string\"}]}";
    String output =
        "{\"10.213.43.187\":{\"bitField0_\":0,\"formatVersion_\":0,\"vpcStates_\":[],\"subnetStates_\":[{\"operationType_\":4,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"\",\"cidr_\":\"10.0.0.0/24\",\"tunnelId_\":8897810,\"dhcpEnable_\":false,\"availabilityZone_\":\"\",\"primaryDns_\":\"\",\"secondaryDns_\":\"\",\"transitSwitches_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1759578754},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":947024130}],\"portStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port51\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-59-1F-11\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.51\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1315222734}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-281972387},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1835389438}],\"securityGroupStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":0,\"revisionNumber_\":0,\"id_\":\"\",\"projectId_\":\"\",\"vpcId_\":\"\",\"name_\":\"\",\"securityGroupRules_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}],\"dhcpStates_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}}";
        check(input, output);
    }

    @Test
    void scenarioD() {
    String input =
        "{\"rsType\":\"PORT\",\"opType\":\"CREATE\",\"portEntities\":[{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"bindingHostIP\":\"10.213.43.187\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"portMac\":\"AA-BB-CC-A7-EF-87\"},{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"portMac\":\"AA-BB-CC-F8-83-B1\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-F8-83-B1\",\"ipVersion\":4,\"ipV4RangeId\":\"d6c9b6cc-cea8-4638-b159-6f8533b204f9\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:32:25\",\"updated_at\":\"2020-06-24 23:32:25\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ec887485-91bf-4bf8-9bee-ee163a293c5b\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"88c257a4-53e2-41da-9acb-58fa765e4ce4\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 23:32:19\",\"updated_at\":\"2020-06-24 23:32:19\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-BB-B3-78\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.56\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"name\":\"port56\",\"description\":\"string\"},{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"bindingHostIP\":\"10.213.43.187\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"portMac\":\"AA-BB-CC-A7-EF-87\"},{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"portMac\":\"AA-BB-CC-F8-83-B1\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-F8-83-B1\",\"ipVersion\":4,\"ipV4RangeId\":\"d6c9b6cc-cea8-4638-b159-6f8533b204f9\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:32:25\",\"updated_at\":\"2020-06-24 23:32:25\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ec887485-91bf-4bf8-9bee-ee163a293c5b\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"88c257a4-53e2-41da-9acb-58fa765e4ce4\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 23:32:19\",\"updated_at\":\"2020-06-24 23:32:19\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-91-C2-E1\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.57\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"name\":\"port57\",\"description\":\"string\"},{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"bindingHostIP\":\"10.213.43.188\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"portMac\":\"AA-BB-CC-BB-B3-78\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"portMac\":\"AA-BB-CC-91-C2-E1\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-F8-83-B1\",\"ipVersion\":4,\"ipV4RangeId\":\"d6c9b6cc-cea8-4638-b159-6f8533b204f9\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:32:25\",\"updated_at\":\"2020-06-24 23:32:25\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ec887485-91bf-4bf8-9bee-ee163a293c5b\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"88c257a4-53e2-41da-9acb-58fa765e4ce4\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 23:32:19\",\"updated_at\":\"2020-06-24 23:32:19\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-A7-EF-87\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.58\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"name\":\"port58\",\"description\":\"string\"},{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"bindingHostIP\":\"10.213.43.188\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"portMac\":\"AA-BB-CC-BB-B3-78\"},{\"hostIp\":\"10.213.43.187\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"portMac\":\"AA-BB-CC-91-C2-E1\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-F8-83-B1\",\"ipVersion\":4,\"ipV4RangeId\":\"d6c9b6cc-cea8-4638-b159-6f8533b204f9\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:32:25\",\"updated_at\":\"2020-06-24 23:32:25\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ec887485-91bf-4bf8-9bee-ee163a293c5b\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"88c257a4-53e2-41da-9acb-58fa765e4ce4\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 23:32:19\",\"updated_at\":\"2020-06-24 23:32:19\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-F8-83-B1\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.59\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"name\":\"port59\",\"description\":\"string\"}],\"vpcs\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ec887485-91bf-4bf8-9bee-ee163a293c5b\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"88c257a4-53e2-41da-9acb-58fa765e4ce4\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 23:32:19\",\"updated_at\":\"2020-06-24 23:32:19\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"subnets\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"23222dfe-c32d-4002-8b75-70ef352c11ac\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"7505d7f7-5255-471d-a53a-6becfbca1dfe\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-F8-83-B1\",\"ipVersion\":4,\"ipV4RangeId\":\"d6c9b6cc-cea8-4638-b159-6f8533b204f9\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 23:32:25\",\"updated_at\":\"2020-06-24 23:32:25\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"securityGroups\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupRules\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv4\",\"id\":\"faf6e9d3-49d3-48f5-94ff-e44ded435af7\"},{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv6\",\"id\":\"33a6e745-f4f7-4be3-8f91-7ceec9a7400f\"}],\"createAt\":\"2020-06-24 16:32:32\",\"updateAt\":\"2020-06-24 16:32:32\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"name\":\"sg1\",\"description\":\"string\"}]}";
    String output =
        "{\"10.213.43.188\":{\"bitField0_\":0,\"formatVersion_\":0,\"vpcStates_\":[],\"subnetStates_\":[{\"operationType_\":4,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"\",\"cidr_\":\"10.0.0.0/24\",\"tunnelId_\":8897810,\"dhcpEnable_\":false,\"availabilityZone_\":\"\",\"primaryDns_\":\"\",\"secondaryDns_\":\"\",\"transitSwitches_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1443954410},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":698276999}],\"portStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port58\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-A7-EF-87\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.58\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913245}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1261296114},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1014138819},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port58\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-A7-EF-87\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459907527},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.58\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913245}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1304714427},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1880682475},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port58\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-A7-EF-87\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459964425},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.58\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913245}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-50986622},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1753660064},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port58\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-A7-EF-87\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459907498},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.58\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913245}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1030798005},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1234324121},{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port59\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-F8-83-B1\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.59\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913274}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":47067203},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":301969348},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port58\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-A7-EF-87\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459964454},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.58\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913245}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":222929800},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1107301710}],\"securityGroupStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":0,\"revisionNumber_\":0,\"id_\":\"\",\"projectId_\":\"\",\"vpcId_\":\"\",\"name_\":\"\",\"securityGroupRules_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}],\"dhcpStates_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0},\"10.213.43.187\":{\"bitField0_\":0,\"formatVersion_\":0,\"vpcStates_\":[],\"subnetStates_\":[{\"operationType_\":4,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"\",\"cidr_\":\"10.0.0.0/24\",\"tunnelId_\":8897810,\"dhcpEnable_\":false,\"availabilityZone_\":\"\",\"primaryDns_\":\"\",\"secondaryDns_\":\"\",\"transitSwitches_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1443954410},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":698276999}],\"portStates_\":[{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port56\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-BB-B3-78\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459964425},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.56\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913187}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":2109250322},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-23978000},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port56\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-BB-B3-78\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459964454},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.56\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913187}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1911800552},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-670336354},{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port57\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-91-C2-E1\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.57\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913216}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":9725640},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-780935979},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port56\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-BB-B3-78\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00057\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459907527},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.56\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913187}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-830015925},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":636646757},{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port56\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-BB-B3-78\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.56\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913187}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-776439676},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-2104893663},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port56\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-BB-B3-78\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.187\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00056\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":459907498},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.56\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":926913187}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1103932347},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1283005111}],\"securityGroupStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":0,\"revisionNumber_\":0,\"id_\":\"\",\"projectId_\":\"\",\"vpcId_\":\"\",\"name_\":\"\",\"securityGroupRules_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}],\"dhcpStates_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}}";
        check(input, output);
    }

    @Test
    void scenarioB() {
    String input =
        "{\"rsType\":\"PORT\",\"opType\":\"CREATE\",\"portEntities\":[{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"neighborInfos\":[],\"bindingHostIP\":\"10.213.43.187\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"portMac\":\"AA-BB-CC-A7-EF-87\"},{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"portMac\":\"AA-BB-CC-F8-83-B1\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-E9-5E-28\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.53\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\"name\":\"port53\",\"description\":\"string\"},{\"routes\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"neighborInfos\":[],\"bindingHostIP\":\"10.213.43.187\",\"internalNeighborInfo1\":[{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"portMac\":\"AA-BB-CC-A7-EF-87\"},{\"hostIp\":\"10.213.43.188\",\"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"portMac\":\"AA-BB-CC-F8-83-B1\"}],\"subnetEntities\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"vpcEntities\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"adminStateUp\":true,\"macAddress\":\"AA-BB-CC-8B-C2-94\",\"vethName\":\"eth0\",\"fastPath\":true,\"deviceId\":\"string\",\"deviceOwner\":\"string\",\"status\":\"BUILD\",\"fixedIps\":[{\"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress\":\"10.0.0.54\"}],\"allowedAddressPairs\":[{\"ipAddress\":\"11.11.11.1\",\"macAddress\":\"00-AA-BB-15-EB-3F\"}],\"extraDhcpOpts\":[{\"ipVersion\":\"string\",\"optName\":\"string\",\"optValue\":\"string\"}],\"securityGroups\":[\"3dda2801-d675-4688-a63f-dcda8d111111\"],\"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\"bindingProfile\":\"string\",\"bindingVifDetails\":\"string\",\"networkNamespace\":\"string\",\"dnsName\":\"string\",\"dnsAssignment\":[{\"hostName\":\"string\",\"ipAddress\":\"string\",\"fqdn\":\"string\"}],\"portSecurityEnabled\":false,\"revisionNumber\":0,\"resourceRequest\":0,\"uplinkStatusPropagation\":false,\"macLearningEnabled\":false,\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\"name\":\"port54\",\"description\":\"string\"}],\"vpcs\":[{\"cidr\":\"10.0.0.0/16\",\"routeEntities\":[{\"destination\":\"10.0.0.0/16\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"adminStateUp\":true,\"dnsDomain\":\"domain\",\"mtu\":1400,\"portSecurityEnabled\":true,\"routerExternal\":false,\"shared\":false,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vlanTransparent\":false,\"isDefault\":true,\"availabilityZones\":[\"Nova\"],\"revisionNumber\":1,\"status\":\"ACTIVE\",\"tags\":[\"tag1,tag2\"],\"created_at\":\"2020-06-24 21:53:36\",\"updated_at\":\"2020-06-24 21:53:36\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name\":\"sample_vpc\",\"description\":\"vpc\"}],\"subnets\":[{\"tunnelId\":8897810,\"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"cidr\":\"10.0.0.0/24\",\"gatewayIp\":\"10.0.0.1\",\"routeEntities\":[{\"destination\":\"10.0.0.0/24\",\"target\":\"Local\",\"priority\":0,\"associatedType\":\"MAIN\",\"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\",\"name\":\"default_route_rule\",\"description\":\"\"}],\"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\"ipVersion\":4,\"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\"revisionNumber\":1,\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"dnsPublishFixedIp\":false,\"useDefaultSubnetpool\":false,\"created_at\":\"2020-06-24 21:58:05\",\"updated_at\":\"2020-06-24 21:58:05\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"}],\"securityGroups\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupRules\":[{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv4\",\"id\":\"8111156c-2336-4f41-aae9-338c32b76a09\"},{\"tenantId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"securityGroupId\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"direction\":\"egress\",\"etherType\":\"IPv6\",\"id\":\"99414929-e045-44e3-951f-e5ac0d14006f\"}],\"createAt\":\"2020-06-24 15:02:39\",\"updateAt\":\"2020-06-24 15:02:39\",\"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"id\":\"3dda2801-d675-4688-a63f-dcda8d111111\",\"name\":\"sg1\",\"description\":\"string\"}]}";
    String output =
        "{\"10.213.43.187\":{\"bitField0_\":0,\"formatVersion_\":0,\"vpcStates_\":[],\"subnetStates_\":[{\"operationType_\":4,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"\",\"cidr_\":\"10.0.0.0/24\",\"tunnelId_\":8897810,\"dhcpEnable_\":false,\"availabilityZone_\":\"\",\"primaryDns_\":\"\",\"secondaryDns_\":\"\",\"transitSwitches_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":311264345},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":538004213}],\"portStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port53\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-E9-5E-28\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.53\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":2105504047}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-922131993},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":654470851},{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":1,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port54\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-8B-C2-94\",\"adminStateUp_\":true,\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.54\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":2105504076}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":225184126},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-433100066},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port53\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-E9-5E-28\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00059\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1963546036},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.53\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":2105504047}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-882523320},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":1803406713},{\"operationType_\":5,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":1,\"revisionNumber_\":1,\"messageType_\":0,\"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"networkType_\":0,\"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\"name_\":\"port53\",\"networkNs_\":\"\",\"macAddress_\":\"AA-BB-CC-E9-5E-28\",\"adminStateUp_\":true,\"hostInfo_\":{\"ipAddress_\":\"10.213.43.188\",\"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00058\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1963546065},\"fixedIps_\":[{\"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\"ipAddress_\":\"10.0.0.53\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":2105504047}],\"allowAddressPairs_\":[],\"securityGroupIds_\":[],\"vethName_\":\"\",\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1156439742},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":-1845202229}],\"securityGroupStates_\":[{\"operationType_\":0,\"configuration_\":{\"bitField0_\":0,\"formatVersion_\":0,\"revisionNumber_\":0,\"id_\":\"\",\"projectId_\":\"\",\"vpcId_\":\"\",\"name_\":\"\",\"securityGroupRules_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0},\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}],\"dhcpStates_\":[],\"memoizedIsInitialized\":1,\"unknownFields\":{\"fields\":{},\"fieldsDescending\":{}},\"memoizedSize\":-1,\"memoizedHashCode\":0}}";
        check(input, output);
    }

  private void check(String input, String output) {
    NetworkConfiguration networkConfiguration = g.fromJson(input, NetworkConfiguration.class);
    Map<String, Goalstate.GoalState> goalStateHashMap =
        g.fromJson(output, new TypeToken<Map<String, Goalstate.GoalState>>() {}.getType());

    final Map<String, Goalstate.GoalState> stringGoalStateMap =
        goalStateManager.transformNorthToSouth(networkConfiguration);

    assertEquals(goalStateHashMap.keySet().toString(), stringGoalStateMap.keySet().toString());
    assertEquals(goalStateHashMap.values().size(), stringGoalStateMap.values().size());
    assertEquals(goalStateHashMap.get(goalStateHashMap.keySet().iterator().next()).getPortStatesList().size(),
            stringGoalStateMap.get(stringGoalStateMap.keySet().iterator().next()).getPortStatesList().size());
  }
}
