package com.futurewei.alcor.dataplane.utils;

import com.futurewei.alcor.schema.Goalstate;
import com.futurewei.alcor.web.entity.dataplane.NetworkConfiguration;
import com.google.gson.ExclusionStrategy;
import com.google.gson.FieldAttributes;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.reflect.TypeToken;
import org.junit.BeforeClass;
import org.junit.Test;
import org.junit.jupiter.api.AfterEach;

import java.util.Map;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class GoalStateManagerTest {

  static Gson gson = null;
  static GoalStateManager goalStateManager = null;

  @BeforeClass
  public static void setUp() {
    goalStateManager = new GoalStateManager();
    ExclusionStrategy myExclusionStrategy =
        new ExclusionStrategy() {
          @Override
          public boolean shouldSkipField(FieldAttributes fa) {
            return fa.getName().equals("tenantId");
          }

          @Override
          public boolean shouldSkipClass(Class<?> clazz) {
            return false;
          }
        };
    gson = new GsonBuilder().setExclusionStrategies(myExclusionStrategy).create();
  }

  @AfterEach
  void tearDown() {}

 @Test
 public void scenario2v1_SingleFP()
    {
    String input =
        "{\n"
            + "   \"rsType\":\"PORT\",\n"
            + "   \"opType\":\"CREATE\",\n"
            + "   \"portEntities\":[\n"
            + "      {\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"portId\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.187\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:55\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594e\",\n"
            + "               \"ipAddress\":\"192.168.1.2\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port2\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"portId\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.187\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:58\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594e\",\n"
            + "               \"ipAddress\":\"192.168.1.4\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"bindingVifDetails\":{\n"
            + "            \"ovsHybridPlug\":false,\n"
            + "            \"portFilter\":false\n"
            + "         },\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port5\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"vpcs\":[\n"
            + "      {\n"
            + "         \"cidr\":\"192.168.0.0/16\",\n"
            + "         \"adminStateUp\":false,\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"routerExternal\":false,\n"
            + "         \"shared\":false,\n"
            + "         \"vlanTransparent\":false,\n"
            + "         \"isDefault\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_vpc\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"subnets\":[\n"
            + "      {\n"
            + "         \"tunnelId\":88888,\n"
            + "         \"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\",\n"
            + "         \"cidr\":\"192.168.1.0/24\",\n"
            + "         \"availabilityZone\":\"uswest-1\",\n"
            + "         \"gatewayIp\":\"192.168.1.1\",\n"
            + "         \"dnsPublishFixedIp\":false,\n"
            + "         \"useDefaultSubnetpool\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_subnet1\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"a87e0f87-a2d9-44ef-9194-9a62f178594e\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"securityGroups\":[\n"
            + "      {\n"
            + "\n"
            + "      },\n"
            + "      {\n"
            + "\n"
            + "      }\n"
            + "   ]\n"
            + "}";
    String output =
        "{\n"
            + "   \"10.213.43.187\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594e\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.1.0/24\",\n"
            + "               \"tunnelId_\":88888,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-781143985\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1645520729\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\",\n"
            + "               \"name_\":\"test_cni_port5\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:58\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594e\",\n"
            + "                     \"ipAddress_\":\"192.168.1.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1328733891\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":833233165\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1533068845\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88039\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594e\",\n"
            + "                     \"ipAddress_\":\"192.168.1.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1328733949\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1467852521\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1537806311\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   }\n"
            + "}";
        check(input,output);
    }

    @Test
    public void scenarioNeighbor2v1_SingleFP()
    {
    String input =
            "{\n" +
                    "   \"rsType\":\"PORT\",\n" +
                    "   \"opType\":\"CREATE\",\n" +
                    "   \"portEntities\":[\n" +
                    "      {\n" +
                    "         \"bindingHostIP\":\"10.213.43.187\",\n" +
                    "         \"adminStateUp\":true,\n" +
                    "         \"macAddress\":\"86:ea:77:ad:52:55\",\n" +
                    "         \"vethName\":\"veth0\",\n" +
                    "         \"fastPath\":true,\n" +
                    "         \"fixedIps\":[\n" +
                    "            {\n" +
                    "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n" +
                    "               \"ipAddress\":\"192.168.2.2\"\n" +
                    "            }\n" +
                    "         ],\n" +
                    "         \"bindingHostId\":\"ephost_0\",\n" +
                    "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n" +
                    "         \"portSecurityEnabled\":false,\n" +
                    "         \"revisionNumber\":0,\n" +
                    "         \"uplinkStatusPropagation\":false,\n" +
                    "         \"macLearningEnabled\":false,\n" +
                    "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n" +
                    "         \"name\":\"test_cni_port2\",\n" +
                    "         \"description\":\"\",\n" +
                    "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\"\n" +
                    "      },\n" +
                    "      {\n" +
                    "         \"bindingHostIP\":\"10.213.43.187\",\n" +
                    "         \"adminStateUp\":true,\n" +
                    "         \"macAddress\":\"86:ea:77:ad:52:56\",\n" +
                    "         \"vethName\":\"veth0\",\n" +
                    "         \"fastPath\":true,\n" +
                    "         \"fixedIps\":[\n" +
                    "            {\n" +
                    "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n" +
                    "               \"ipAddress\":\"192.168.2.3\"\n" +
                    "            }\n" +
                    "         ],\n" +
                    "         \"bindingHostId\":\"ephost_0\",\n" +
                    "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n" +
                    "         \"portSecurityEnabled\":false,\n" +
                    "         \"revisionNumber\":0,\n" +
                    "         \"uplinkStatusPropagation\":false,\n" +
                    "         \"macLearningEnabled\":false,\n" +
                    "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n" +
                    "         \"name\":\"test_cni_port3\",\n" +
                    "         \"description\":\"\",\n" +
                    "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\"\n" +
                    "      },\n" +
                    "      {\n" +
                    "         \"bindingHostIP\":\"10.213.43.188\",\n" +
                    "         \"adminStateUp\":true,\n" +
                    "         \"macAddress\":\"86:ea:77:ad:52:57\",\n" +
                    "         \"vethName\":\"veth0\",\n" +
                    "         \"fastPath\":true,\n" +
                    "         \"fixedIps\":[\n" +
                    "            {\n" +
                    "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n" +
                    "               \"ipAddress\":\"192.168.2.4\"\n" +
                    "            }\n" +
                    "         ],\n" +
                    "         \"bindingHostId\":\"ephost_0\",\n" +
                    "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n" +
                    "         \"portSecurityEnabled\":false,\n" +
                    "         \"revisionNumber\":0,\n" +
                    "         \"uplinkStatusPropagation\":false,\n" +
                    "         \"macLearningEnabled\":false,\n" +
                    "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n" +
                    "         \"name\":\"test_cni_port4\",\n" +
                    "         \"description\":\"\",\n" +
                    "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\"\n" +
                    "      },\n" +
                    "      {\n" +
                    "         \"bindingHostIP\":\"10.213.43.188\",\n" +
                    "         \"adminStateUp\":true,\n" +
                    "         \"macAddress\":\"86:ea:77:ad:52:58\",\n" +
                    "         \"vethName\":\"veth0\",\n" +
                    "         \"fastPath\":true,\n" +
                    "         \"fixedIps\":[\n" +
                    "            {\n" +
                    "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n" +
                    "               \"ipAddress\":\"192.168.2.5\"\n" +
                    "            }\n" +
                    "         ],\n" +
                    "         \"bindingHostId\":\"ephost_0\",\n" +
                    "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n" +
                    "         \"portSecurityEnabled\":false,\n" +
                    "         \"revisionNumber\":0,\n" +
                    "         \"uplinkStatusPropagation\":false,\n" +
                    "         \"macLearningEnabled\":false,\n" +
                    "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n" +
                    "         \"name\":\"test_cni_port5\",\n" +
                    "         \"description\":\"\",\n" +
                    "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\"\n" +
                    "      }\n" +
                    "   ],\n" +
                    "   \"vpcs\":[\n" +
                    "      {\n" +
                    "         \"cidr\":\"192.168.0.0/16\",\n" +
                    "         \"adminStateUp\":false,\n" +
                    "         \"portSecurityEnabled\":false,\n" +
                    "         \"routerExternal\":false,\n" +
                    "         \"shared\":false,\n" +
                    "         \"vlanTransparent\":false,\n" +
                    "         \"isDefault\":false,\n" +
                    "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n" +
                    "         \"name\":\"test_vpc\",\n" +
                    "         \"description\":\"\",\n" +
                    "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\"\n" +
                    "      }\n" +
                    "   ],\n" +
                    "   \"subnets\":[\n" +
                    "      {\n" +
                    "         \"tunnelId\":88889,\n" +
                    "         \"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n" +
                    "         \"cidr\":\"192.168.2.0/24\",\n" +
                    "         \"availabilityZone\":\"uswest-1\",\n" +
                    "         \"gatewayIp\":\"192.168.2.1\",\n" +
                    "         \"dnsPublishFixedIp\":false,\n" +
                    "         \"useDefaultSubnetpool\":false,\n" +
                    "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n" +
                    "         \"name\":\"test_subnet2\",\n" +
                    "         \"description\":\"\",\n" +
                    "         \"id\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\"\n" +
                    "      }\n" +
                    "   ],\n" +
                    "   \"securityGroups\":[\n" +
                    "      {\n" +
                    "\n" +
                    "      },\n" +
                    "      {\n" +
                    "\n" +
                    "      }\n" +
                    "   ]\n" +
                    "}";
    String output =
        "{\n"
            + "   \"10.213.43.188\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.2.0/24\",\n"
            + "               \"tunnelId_\":88889,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2006865063\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":914520250\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port5\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:58\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.5\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457391\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1732410803\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1611098581\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871889565\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":141270734\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1186342785\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1377890813\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1606664933\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871889478\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-680478532\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1169549449\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   },\n"
            + "   \"10.213.43.187\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.2.0/24\",\n"
            + "               \"tunnelId_\":88889,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2006865063\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":914520250\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.188\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871946521\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":773754283\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1946470774\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port3\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:56\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.3\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457449\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-346775372\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-82376746\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.188\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871946550\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1047670705\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1702138168\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1099440648\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-434833270\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   }\n"
            + "}";
        check(input,output);
    }

        @Test
    public void scenarioBulkCreate2v2_SingleFP()
    {
    String input =
        "{\n"
            + "   \"rsType\":\"PORT\",\n"
            + "   \"opType\":\"CREATE\",\n"
            + "   \"portEntities\":[\n"
            + "      {\n"
            + "         \"bindingHostIP\":\"10.213.43.187\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:55\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.2\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port2\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"bindingHostIP\":\"10.213.43.187\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:56\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.3\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port3\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"bindingHostIP\":\"10.213.43.188\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:57\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.4\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port4\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"bindingHostIP\":\"10.213.43.188\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:58\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.5\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port5\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"vpcs\":[\n"
            + "      {\n"
            + "         \"cidr\":\"192.168.0.0/16\",\n"
            + "         \"adminStateUp\":false,\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"routerExternal\":false,\n"
            + "         \"shared\":false,\n"
            + "         \"vlanTransparent\":false,\n"
            + "         \"isDefault\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_vpc\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"subnets\":[\n"
            + "      {\n"
            + "         \"tunnelId\":88889,\n"
            + "         \"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "         \"cidr\":\"192.168.2.0/24\",\n"
            + "         \"availabilityZone\":\"uswest-1\",\n"
            + "         \"gatewayIp\":\"192.168.2.1\",\n"
            + "         \"dnsPublishFixedIp\":false,\n"
            + "         \"useDefaultSubnetpool\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_subnet2\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"securityGroups\":[\n"
            + "      {\n"
            + "\n"
            + "      },\n"
            + "      {\n"
            + "\n"
            + "      }\n"
            + "   ]\n"
            + "}";
    String output =
        "{\n"
            + "   \"10.213.43.188\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.2.0/24\",\n"
            + "               \"tunnelId_\":88889,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2006865063\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":914520250\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port5\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:58\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.5\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457391\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1732410803\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1611098581\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871889565\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":141270734\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1186342785\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1377890813\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1606664933\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871889478\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-680478532\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1169549449\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   },\n"
            + "   \"10.213.43.187\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.2.0/24\",\n"
            + "               \"tunnelId_\":88889,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2006865063\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":914520250\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.188\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871946521\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":773754283\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1946470774\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port3\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:56\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.3\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457449\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-346775372\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-82376746\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.188\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871946550\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1047670705\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1702138168\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1099440648\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-434833270\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   }\n"
            + "}";
        check(input,output);
    }

    @Test
    public void scenarioBulkNeighbor2v2_SingleFP()
    {
    String input =
        "{\n"
            + "   \"rsType\":\"PORT\",\n"
            + "   \"opType\":\"CREATE\",\n"
            + "   \"portEntities\":[\n"
            + "      {\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.188\",\n"
            + "               \"hostId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"portId\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.187\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:55\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.5\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port2\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.188\",\n"
            + "               \"hostId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"portId\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.187\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:56\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.4\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port3\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"portId\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.188\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:57\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.2\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port4\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\"\n"
            + "      },\n"
            + "      {\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"portId\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.188\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"86:ea:77:ad:52:58\",\n"
            + "         \"vethName\":\"veth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"ipAddress\":\"192.168.2.3\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"ephost_0\",\n"
            + "         \"networkNamespace\":\"/var/run/netns/test_netw_ns\",\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_cni_port5\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"vpcs\":[\n"
            + "      {\n"
            + "         \"cidr\":\"192.168.0.0/16\",\n"
            + "         \"adminStateUp\":false,\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"routerExternal\":false,\n"
            + "         \"shared\":false,\n"
            + "         \"vlanTransparent\":false,\n"
            + "         \"isDefault\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_vpc\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"subnets\":[\n"
            + "      {\n"
            + "         \"tunnelId\":88889,\n"
            + "         \"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "         \"cidr\":\"192.168.2.0/24\",\n"
            + "         \"availabilityZone\":\"uswest-1\",\n"
            + "         \"gatewayIp\":\"192.168.2.1\",\n"
            + "         \"dnsPublishFixedIp\":false,\n"
            + "         \"useDefaultSubnetpool\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"test_subnet2\",\n"
            + "         \"description\":\"\",\n"
            + "         \"id\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"securityGroups\":[\n"
            + "      {\n"
            + "\n"
            + "      },\n"
            + "      {\n"
            + "\n"
            + "      }\n"
            + "   ]\n"
            + "}";
    String output =
        "{\n"
            + "   \"10.213.43.188\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.2.0/24\",\n"
            + "               \"tunnelId_\":88889,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2006865063\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":914520250\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port5\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:58\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.5\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457391\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1732410803\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1611098581\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871889565\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":141270734\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1186342785\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1377890813\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1606664933\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port4\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:57\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871889478\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.4\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457420\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-680478532\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1169549449\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   },\n"
            + "   \"10.213.43.187\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"192.168.2.0/24\",\n"
            + "               \"tunnelId_\":88889,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2006865063\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":914520250\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.188\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d6\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871946521\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":773754283\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-1946470774\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d0\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port3\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:56\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.3\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457449\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-346775372\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-82376746\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.188\",\n"
            + "                  \"macAddress_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d7\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":1871946550\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":1047670705\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1702138168\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"f37810eb-7f83-45fa-a4d4-1b31e75399d3\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"test_cni_port2\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"86:ea:77:ad:52:55\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"a87e0f87-a2d9-44ef-9194-9a62f178594f\",\n"
            + "                     \"ipAddress_\":\"192.168.2.2\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1186457478\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1099440648\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-434833270\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   }\n"
            + "}";
        check(input,output);
    }

    @Test
    public void scenarioResourceRequestWithUpdatedAllfields()
    {
    String input =
        "{\n"
            + "   \"rsType\":\"PORT\",\n"
            + "   \"opType\":\"CREATE\",\n"
            + "   \"portEntities\":[\n"
            + "      {\n"
            + "         \"routes\":[\n"
            + "            {\n"
            + "               \"destination\":\"10.0.0.0/24\",\n"
            + "               \"target\":\"Local\",\n"
            + "               \"priority\":0,\n"
            + "               \"associatedType\":\"MAIN\",\n"
            + "               \"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\n"
            + "               \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"name\":\"default_route_rule\",\n"
            + "               \"description\":\"\",\n"
            + "               \"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"neighborInfos\":[\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\n"
            + "               \"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\n"
            + "               \"portMac\":\"AA-BB-CC-E9-5E-28\"\n"
            + "            },\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\n"
            + "               \"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\n"
            + "               \"portMac\":\"AA-BB-CC-59-1F-11\"\n"
            + "            },\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\n"
            + "               \"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\n"
            + "               \"portMac\":\"AA-BB-CC-58-02-6B\"\n"
            + "            },\n"
            + "            {\n"
            + "               \"hostIp\":\"10.213.43.187\",\n"
            + "               \"hostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85001\",\n"
            + "               \"portId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\n"
            + "               \"portMac\":\"AA-BB-CC-8B-C2-94\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"bindingHostIP\":\"10.213.43.188\",\n"
            + "         \"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"macAddress\":\"AA-BB-CC-0A-48-A3\",\n"
            + "         \"vethName\":\"eth0\",\n"
            + "         \"fastPath\":true,\n"
            + "         \"deviceId\":\"string\",\n"
            + "         \"deviceOwner\":\"string\",\n"
            + "         \"status\":\"BUILD\",\n"
            + "         \"fixedIps\":[\n"
            + "            {\n"
            + "               \"subnetId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "               \"ipAddress\":\"10.0.0.55\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"allowedAddressPairs\":[\n"
            + "            {\n"
            + "               \"ipAddress\":\"11.11.11.1\",\n"
            + "               \"macAddress\":\"00-AA-BB-15-EB-3F\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"extraDhcpOpts\":[\n"
            + "            {\n"
            + "               \"ipVersion\":\"string\",\n"
            + "               \"optName\":\"string\",\n"
            + "               \"optValue\":\"string\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"securityGroups\":[\n"
            + "            \"3dda2801-d675-4688-a63f-dcda8d111111\"\n"
            + "         ],\n"
            + "         \"bindingHostId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d85002\",\n"
            + "         \"networkNamespace\":\"string\",\n"
            + "         \"dnsName\":\"string\",\n"
            + "         \"dnsAssignment\":{\n"
            + "            \"hostName\":\"string\",\n"
            + "            \"ipAddress\":\"string\",\n"
            + "            \"fqdn\":\"string\"\n"
            + "         },\n"
            + "         \"portSecurityEnabled\":false,\n"
            + "         \"revisionNumber\":0,\n"
            + "         \"resourceRequest\":{\n"
            + "            \"required\":[\n"
            + "               \"CUSTOM_PHYSNET_PUBLIC\",\n"
            + "               \"CUSTOM_VNIC_TYPE_NORMAL\"\n"
            + "            ],\n"
            + "            \"resources\":{\n"
            + "               \"netBwEgrKilobitPerSec\":1000\n"
            + "            }\n"
            + "         },\n"
            + "         \"uplinkStatusPropagation\":false,\n"
            + "         \"macLearningEnabled\":false,\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"port55\",\n"
            + "         \"description\":\"string\",\n"
            + "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0055\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"vpcs\":[\n"
            + "      {\n"
            + "         \"cidr\":\"10.0.0.0/16\",\n"
            + "         \"routeEntities\":[\n"
            + "            {\n"
            + "               \"destination\":\"10.0.0.0/16\",\n"
            + "               \"target\":\"Local\",\n"
            + "               \"priority\":0,\n"
            + "               \"associatedType\":\"MAIN\",\n"
            + "               \"associatedTableId\":\"f3eac09f-7655-4854-8c5f-4587618cbeb8\",\n"
            + "               \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"name\":\"default_route_rule\",\n"
            + "               \"description\":\"\",\n"
            + "               \"id\":\"c445e180-8020-43ba-8b33-53282acd50d5\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"adminStateUp\":true,\n"
            + "         \"dnsDomain\":\"domain\",\n"
            + "         \"mtu\":1400,\n"
            + "         \"portSecurityEnabled\":true,\n"
            + "         \"routerExternal\":false,\n"
            + "         \"shared\":false,\n"
            + "         \"vlanTransparent\":false,\n"
            + "         \"isDefault\":true,\n"
            + "         \"availabilityZones\":[\n"
            + "            \"Nova\"\n"
            + "         ],\n"
            + "         \"revisionNumber\":1,\n"
            + "         \"status\":\"ACTIVE\",\n"
            + "         \"tags\":[\n"
            + "            \"tag1,tag2\"\n"
            + "         ],\n"
            + "         \"created_at\":\"2020-06-24 21:53:36\",\n"
            + "         \"updated_at\":\"2020-06-24 21:53:36\",\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"name\":\"sample_vpc\",\n"
            + "         \"description\":\"vpc\",\n"
            + "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\"\n"
            + "      }\n"
            + "   ],\n"
            + "   \"subnets\":[\n"
            + "      {\n"
            + "         \"tunnelId\":8897810,\n"
            + "         \"vpcId\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "         \"cidr\":\"10.0.0.0/24\",\n"
            + "         \"gatewayIp\":\"10.0.0.1\",\n"
            + "         \"routeEntities\":[\n"
            + "            {\n"
            + "               \"destination\":\"10.0.0.0/24\",\n"
            + "               \"target\":\"Local\",\n"
            + "               \"priority\":0,\n"
            + "               \"associatedType\":\"MAIN\",\n"
            + "               \"associatedTableId\":\"ece52017-ac10-442f-b50a-7f058ca16164\",\n"
            + "               \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"name\":\"default_route_rule\",\n"
            + "               \"description\":\"\",\n"
            + "               \"id\":\"360a7a8e-31da-4cab-95e5-7bfff271f604\"\n"
            + "            }\n"
            + "         ],\n"
            + "         \"gatewayMacAddress\":\"AA-BB-CC-E0-30-98\",\n"
            + "         \"ipVersion\":4,\n"
            + "         \"ipV4RangeId\":\"e2845526-62bd-4c1f-a16d-e20ec665b536\",\n"
            + "         \"revisionNumber\":1,\n"
            + "         \"dnsPublishFixedIp\":false,\n"
            + "         \"useDefaultSubnetpool\":false,\n"
            + "         \"created_at\":\"2020-06-24 21:58:05\",\n"
            + "         \"updated_at\":\"2020-06-24 21:58:05\",\n"
            + "         \"projectId\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "         \"id\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\"\n"
            + "      }\n"
            + "   ]\n"
            + "}";
    String output =
        "{\n"
            + "   \"10.213.43.188\":{\n"
            + "      \"bitField0_\":0,\n"
            + "      \"formatVersion_\":0,\n"
            + "      \"vpcStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"subnetStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":4,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"cidr_\":\"10.0.0.0/24\",\n"
            + "               \"tunnelId_\":8897810,\n"
            + "               \"dhcpEnable_\":false,\n"
            + "               \"availabilityZone_\":\"\",\n"
            + "               \"primaryDns_\":\"\",\n"
            + "               \"secondaryDns_\":\"\",\n"
            + "               \"transitSwitches_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":472848322\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1585240794\n"
            + "         }\n"
            + "      ],\n"
            + "      \"portStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"port55\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"AA-BB-CC-0A-48-A3\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00054\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":-2144664695\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "                     \"ipAddress_\":\"10.0.0.55\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1279253520\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1765423160\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1171386357\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"port55\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"AA-BB-CC-0A-48-A3\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0051\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":-1279093440\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "                     \"ipAddress_\":\"10.0.0.55\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1279253520\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2090499302\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":334112831\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":1,\n"
            + "               \"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0055\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"port55\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"AA-BB-CC-0A-48-A3\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "                     \"ipAddress_\":\"10.0.0.55\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1279253520\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":554682143\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-265320937\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"port55\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"AA-BB-CC-0A-48-A3\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d0052\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":-1279093411\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "                     \"ipAddress_\":\"10.0.0.55\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1279253520\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-1816582880\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":-312245523\n"
            + "         },\n"
            + "         {\n"
            + "            \"operationType_\":5,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":1,\n"
            + "               \"revisionNumber_\":1,\n"
            + "               \"messageType_\":0,\n"
            + "               \"id_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\n"
            + "               \"networkType_\":0,\n"
            + "               \"projectId_\":\"3dda2801-d675-4688-a63f-dcda8d327f50\",\n"
            + "               \"vpcId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88038\",\n"
            + "               \"name_\":\"port55\",\n"
            + "               \"networkNs_\":\"\",\n"
            + "               \"macAddress_\":\"AA-BB-CC-0A-48-A3\",\n"
            + "               \"adminStateUp_\":true,\n"
            + "               \"hostInfo_\":{\n"
            + "                  \"ipAddress_\":\"10.213.43.187\",\n"
            + "                  \"macAddress_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d00053\",\n"
            + "                  \"memoizedIsInitialized\":1,\n"
            + "                  \"unknownFields\":{\n"
            + "                     \"fields\":{\n"
            + "\n"
            + "                     },\n"
            + "                     \"fieldsDescending\":{\n"
            + "\n"
            + "                     }\n"
            + "                  },\n"
            + "                  \"memoizedSize\":-1,\n"
            + "                  \"memoizedHashCode\":-2144664724\n"
            + "               },\n"
            + "               \"fixedIps_\":[\n"
            + "                  {\n"
            + "                     \"subnetId_\":\"9192a4d4-ffff-4ece-b3f0-8d36e3d88000\",\n"
            + "                     \"ipAddress_\":\"10.0.0.55\",\n"
            + "                     \"memoizedIsInitialized\":1,\n"
            + "                     \"unknownFields\":{\n"
            + "                        \"fields\":{\n"
            + "\n"
            + "                        },\n"
            + "                        \"fieldsDescending\":{\n"
            + "\n"
            + "                        }\n"
            + "                     },\n"
            + "                     \"memoizedSize\":-1,\n"
            + "                     \"memoizedHashCode\":-1279253520\n"
            + "                  }\n"
            + "               ],\n"
            + "               \"allowAddressPairs_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"securityGroupIds_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"vethName_\":\"\",\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":-2039339582\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":1817744711\n"
            + "         }\n"
            + "      ],\n"
            + "      \"securityGroupStates_\":[\n"
            + "         {\n"
            + "            \"operationType_\":0,\n"
            + "            \"configuration_\":{\n"
            + "               \"bitField0_\":0,\n"
            + "               \"formatVersion_\":0,\n"
            + "               \"revisionNumber_\":0,\n"
            + "               \"id_\":\"\",\n"
            + "               \"projectId_\":\"\",\n"
            + "               \"vpcId_\":\"\",\n"
            + "               \"name_\":\"\",\n"
            + "               \"securityGroupRules_\":[\n"
            + "\n"
            + "               ],\n"
            + "               \"memoizedIsInitialized\":1,\n"
            + "               \"unknownFields\":{\n"
            + "                  \"fields\":{\n"
            + "\n"
            + "                  },\n"
            + "                  \"fieldsDescending\":{\n"
            + "\n"
            + "                  }\n"
            + "               },\n"
            + "               \"memoizedSize\":-1,\n"
            + "               \"memoizedHashCode\":0\n"
            + "            },\n"
            + "            \"memoizedIsInitialized\":1,\n"
            + "            \"unknownFields\":{\n"
            + "               \"fields\":{\n"
            + "\n"
            + "               },\n"
            + "               \"fieldsDescending\":{\n"
            + "\n"
            + "               }\n"
            + "            },\n"
            + "            \"memoizedSize\":-1,\n"
            + "            \"memoizedHashCode\":0\n"
            + "         }\n"
            + "      ],\n"
            + "      \"dhcpStates_\":[\n"
            + "\n"
            + "      ],\n"
            + "      \"memoizedIsInitialized\":1,\n"
            + "      \"unknownFields\":{\n"
            + "         \"fields\":{\n"
            + "\n"
            + "         },\n"
            + "         \"fieldsDescending\":{\n"
            + "\n"
            + "         }\n"
            + "      },\n"
            + "      \"memoizedSize\":-1,\n"
            + "      \"memoizedHashCode\":0\n"
            + "   }\n"
            + "}";
    check(input,output);
    }
  
  private void check(String input, String output) {

    NetworkConfiguration networkConfiguration = gson.fromJson(input, NetworkConfiguration.class);
    Map<String, Goalstate.GoalState> goalStateHashMap =
        new Gson().fromJson(output, new TypeToken<Map<String, Goalstate.GoalState>>() {}.getType());

    Map<String, Goalstate.GoalState> goalStateHashMap1 =
        gson.fromJson(output, new TypeToken<Map<String, Goalstate.GoalState>>() {}.getType());

    final Map<String, Goalstate.GoalState> stringGoalStateMap =
        goalStateManager.transformNorthToSouth(networkConfiguration);

    assertEquals(goalStateHashMap.keySet().toString(), stringGoalStateMap.keySet().toString());
    assertEquals(goalStateHashMap.values().size(), stringGoalStateMap.values().size());
    assertEquals(
        goalStateHashMap
            .get(goalStateHashMap.keySet().iterator().next())
            .getPortStatesList()
            .size(),
        stringGoalStateMap
            .get(stringGoalStateMap.keySet().iterator().next())
            .getPortStatesList()
            .size());
  }
}
